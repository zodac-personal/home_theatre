# Template for all standard reverse proxy routes
<Macro _Proxy $server_name $url>
<VirtualHost *:80>
    # Server owner
    ServerAdmin arouge110@msn.com

    # URL that the request is coming from
    ServerName $server_name.zodac.me
    ServerAlias $server_name.zodac.*

    # URL to forward the request to
    ProxyPass / $url

    # Pass the original incoming URL to the backend URL
    ProxyPreserveHost on
    RemoteIPHeader X-Forwarded-For
    TimeOut 20
</VirtualHost>
</Macro>

# Template for basic URL redirect
<Macro _Redirect $server_url $redirect_url>
<VirtualHost *:80>
    # Server owner
    ServerAdmin arouge110@msn.com

    # URL that the request is coming from
    ServerName $server_url

    # Location to redirect the request towards
    Redirect permanent / $redirect_url
    TimeOut 25
</VirtualHost>
</Macro>


#####################################
###      GIGADOOMER Services      ###
#####################################

# Default URL for homepage (base URL only)
<VirtualHost *:80>
    ServerAdmin arouge110@msn.com
    ServerName zodac.me

    ProxyPass / http://192.168.178.6:4100/
    ProxyPreserveHost on
    RemoteIPHeader X-Forwarded-For
    TimeOut 25
</VirtualHost>


# Reverse Proxy config
Use _Proxy      radarr            http://192.168.178.6:4000/
Use _Proxy      sonarr            http://192.168.178.6:4001/
Use _Proxy      lidarr            http://192.168.178.6:4002/
Use _Proxy      music             http://192.168.178.6:4003/
Use _Proxy      readarr           http://192.168.178.6:4004/
Use _Proxy      kavita            http://192.168.178.6:4005/
Use _Proxy      bazarr            http://192.168.178.6:4009/
# Use _Proxy      recipe            http://192.168.178.6:4010/
Use _Proxy      inventory         http://192.168.178.6:4011/
Use _Proxy      romm              http://192.168.178.6:4013/
Use _Proxy      log               http://192.168.178.6:4014/
Use _Proxy      journal           http://192.168.178.6:4015/
Use _Proxy      emby              http://192.168.178.6:8096/
Use _Proxy      qbittorrent       http://192.168.178.6:9000/
Use _Proxy      torrent           http://192.168.178.6:9500/
Use _Proxy      torrents          http://192.168.178.6:9500/
Use _Proxy      prowlarr          http://192.168.178.6:9696/

# Redirect config
Use _Redirect   admin.zodac.me    http://zodac.me/board/admin
Use _Redirect   status.zodac.me   http://monitor.zodac.me/status/main


#####################################
###    Raspberry Pi 4 Services    ###
#####################################

Use _Proxy      monitor             http://192.168.178.4:3001/
