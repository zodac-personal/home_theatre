services:

  # Dashboard
  heimdall:
    image: linuxserver/heimdall:2.4.10
    container_name: heimdall
    hostname: heimdall
    environment:
      PUID: "${PUID}"
      PGID: "${PGID}"
      TZ: "${TIMEZONE}"
    ports:
      - "80:80"
    restart: unless-stopped
    volumes:
      - "${STORAGE_DIRECTORY}/heimdall:/config"

  # Movie searcher
  radarr:
    image: linuxserver/radarr:4.0.5
    container_name: radarr
    hostname: radarr
    environment:
      PUID: "${PUID}"
      PGID: "${PGID}"
      TZ: "${TIMEZONE}"
    ports:
      - "7878:7878"
    restart: unless-stopped
    volumes:
      # Volume mounts from host system
      - "${STORAGE_DIRECTORY}/radarr:/config"
      - "${DOWNLOADS_DIRECTORY}:/downloads"
      - "${MOVIE_DIRECTORY}:/movies"
      # Persistent volumes
      - "radarr_backups:/config/Backups"

  # TV show searcher
  sonarr:
    image: linuxserver/sonarr:3.0.7
    container_name: sonarr
    hostname: sonarr
    environment:
      PUID: "${PUID}"
      PGID: "${PGID}"
      TZ: "${TIMEZONE}"
    ports:
      - "8989:8989"
    restart: unless-stopped
    volumes:
      # Volume mounts from host system
      - "${STORAGE_DIRECTORY}/sonarr:/config"
      - "${DOWNLOADS_DIRECTORY}:/downloads"
      - "${TV_DIRECTORY}:/tv"
      # Persistent volumes
      - "sonarr_backups:/config/Backups"

  # Book searcher
  readarr:
    image: linuxserver/readarr:0.1.0-develop
    container_name: readarr
    hostname: readarr
    environment:
      PUID: "${PUID}"
      PGID: "${PGID}"
      TZ: "${TIMEZONE}"
    ports:
      - "8787:8787"
    restart: unless-stopped
    volumes:
      # Volume mounts from host system
      - "${STORAGE_DIRECTORY}/readarr:/config"
      - "${BOOKS_DIRECTORY}:/books"
      - "${DOWNLOADS_DIRECTORY}:/downloads"
      # Persistent volumes
      - "readarr_backups:/config/Backups"

  # eBook management
  calibre:
    image: linuxserver/calibre:5.40.0
    container_name: calibre
    hostname: calibre
    environment:
      PUID: "${PUID}"
      PGID: "${PGID}"
      TZ: "${TIMEZONE}"
      USERNAME: "abc" # Pre-defined
      PASSWORD: "${ADMIN_PASSWORD}"
      CLI_ARGS: "â€“auth-mode=basic"
    ports:
      - "8080:8080"
      - "8081:8081"
    restart: unless-stopped
    volumes:
      - "${STORAGE_DIRECTORY}/calibre:/config"

  # Subtitle downloader
  bazarr:
    image: linuxserver/bazarr:1.0.3
    container_name: bazarr
    hostname: bazarr
    environment:
      PUID: "${PUID}"
      PGID: "${PGID}"
      TZ: "${TIMEZONE}"
    ports:
      - "6767:6767"
    restart: unless-stopped
    volumes:
      # Volume mounts from host system
      - "${STORAGE_DIRECTORY}/bazarr:/config"
      - "${MOVIE_DIRECTORY}:/movies"
      - "${TV_DIRECTORY}:/tv"
      # Persistent volumes
      - "bazarr_backups:/config/backups"

  # Indexer (Torrents + Usenet)
  prowlarr:
    image: linuxserver/prowlarr:0.3.0-nightly
    container_name: prowlarr
    hostname: prowlarr
    environment:
      PUID: "${PUID}"
      PGID: "${PGID}"
      TZ: "${TIMEZONE}"
    ports:
      - "9696:9696"
    restart: unless-stopped
    volumes:
      # Volume mounts from host system
      - "${STORAGE_DIRECTORY}/prowlarr:/config"
      # Persistent volumes
      - "prowlarr_backups:/config/Backups"

  # Torrent downloader
  transmission:
    image: linuxserver/transmission:version-3.00-r5
    container_name: transmission
    environment:
      PUID: "${PUID}"
      PGID: "${PGID}"
      TZ: "${TIMEZONE}"
      USER: "${ADMIN_USERNAME}"
      PASS: "${ADMIN_PASSWORD}"
    ports:
      - "9091:9091"
      - "5555:51413"
      - "5555:51413/udp"
    restart: unless-stopped
    volumes:
      - "${STORAGE_DIRECTORY}/transmission:/config"
      - "${DOWNLOADS_DIRECTORY}:/downloads"
      - "${WATCH_DIRECTORY_FOR_TORRENT_FILES}:/watch"

  flaresolverr:
    image: flaresolverr/flaresolverr:v2.2.2
    container_name: flaresolverr
    environment:
      LOG_LEVEL: info
      TZ: "${TIMEZONE}"
    ports:
      - "8191:8191"
    restart: unless-stopped

  emby:
    image: linuxserver/emby:4.6.7
    container_name: emby
    hostname: emby
    environment:
      PUID: "${PUID}"
      PGID: "${PGID}"
      TZ: "${TIMEZONE}"
    ports:
      - "8096:8096"
    restart: unless-stopped
    volumes:
      - "${STORAGE_DIRECTORY}/emby:/config"
      - "${MOVIE_DIRECTORY}:/data/movies"
      - "${TV_DIRECTORY}:/data/shows"

  plex:
    image: linuxserver/plex:1.25.9
    container_name: plex
    hostname: plex
    environment:
      PUID: "${PUID}"
      PGID: "${PGID}"
      TZ: "${TIMEZONE}"
    ports:
      - "32400:32400"
    restart: unless-stopped
    volumes:
      - "${STORAGE_DIRECTORY}/plex:/config"
      - "${MOVIE_DIRECTORY}:/movies"
      - "${TV_DIRECTORY}:/tv"

volumes:
  radarr_backups: {}
  sonarr_backups: {}
  bazarr_backups: {}
  readarr_backups: {}
  prowlarr_backups: {}
